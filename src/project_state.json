{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 21,
  "summary": "Build a colorful, cash-themed sports betting predictions app with paid monthly/yearly memberships, AI-driven picks tailored to the Dabble platform, a tiered risk/reward presentation system, and prominent disclaimers/terms (including no-guarantee and limited liability), with optional Cash App–friendly UI elements like displaying a $Cashtag for manual tips (no direct Cash App integration).",
  "architectural_notes": [
    "Do not implement direct Cash App transfers or routing funds to a personal $Cashtag; only manual display of $Cashtag for optional tips/donations is allowed.",
    "Payments/subscriptions are handled via Stripe; no third-party Cash App payment integration.",
    "Authentication remains via Internet Identity; email is collected/stored only as an optional user-profile attribute (not used as the login credential)."
  ],
  "known_issues": [
    "User requests their account to always have premium access (membership always active / always grant access), suggesting current premium status may not persist reliably."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-implement-paid-membership-plans-25-month-and-250-year-with-subscription-based-access-control-to-premium-prediction-content",
      "title": "Implement paid membership plans ($25/month and $250/year) with subscription-based access control to premium prediction content.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-add-authentication-via-internet-identity-and-connect-the-authenticated-principal-to-a-user-profile-record-in-the-backend",
      "title": "Add authentication via Internet Identity and connect the authenticated principal to a user profile record in the backend.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-provide-a-predictions-feature-that-lets-the-app-generate-and-display-sports-betting-picks-using-a-transparent-configurable-scoring-model-that-considers-depth-chart-injury-status-coaching-style-and-player-news-factors-provided-to-the-system",
      "title": "Provide a predictions feature that lets the app generate and display sports betting picks using a transparent, configurable scoring model that considers depth chart, injury status, coaching style, and player/news factors provided to the system.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-create-an-admin-only-workflow-to-input-and-manage-the-data-needed-for-predictions-depth-charts-injuries-coaching-style-notes-and-news-drama-flags-without-claiming-full-web-scraping",
      "title": "Create an admin-only workflow to input and manage the data needed for predictions (depth charts, injuries, coaching style notes, and news/drama flags) without claiming full-web scraping.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-present-picks-in-a-dabble-aligned-format-and-provide-a-copy-export-view-optimized-for-entering-bets-on-dabble-without-requiring-dabble-api-integration",
      "title": "Present picks in a Dabble-aligned format and provide a copy/export view optimized for entering bets on Dabble (without requiring Dabble API integration).",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-design-the-ui-with-a-colorful-rich-cash-theme-greens-gold-accents-high-contrast-neutrals-applied-consistently-across-navigation-cards-buttons-and-data-visualizations",
      "title": "Design the UI with a colorful, rich 'cash theme' (greens, gold accents, high-contrast neutrals), applied consistently across navigation, cards, buttons, and data visualizations.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-landing-page-that-explains-the-membership-plans-what-factors-are-considered-in-predictions-and-includes-clear-disclaimers-that-results-are-not-guaranteed-and-content-is-informational",
      "title": "Add a landing page that explains the membership plans, what factors are considered in predictions, and includes clear disclaimers that results are not guaranteed and content is informational.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-store-and-serve-prediction-history-so-subscribers-can-browse-past-picks-and-filter-by-sport-date-market",
      "title": "Store and serve prediction history so subscribers can browse past picks and filter by sport/date/market.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-and-include-required-static-image-assets-for-the-cash-themed-brand-stored-under-frontend-public-assets-generated-and-render-them-in-the-ui-e-g-logo-on-header-landing-subtle-background-pattern",
      "title": "Generate and include required static image assets for the cash-themed brand, stored under frontend/public/assets/generated, and render them in the UI (e.g., logo on header/landing, subtle background pattern).",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-dedicated-send-support-screen-that-displays-the-creator-s-cash-app-cashtag-and-a-cash-app-link-without-enabling-any-in-app-cash-app-payments-or-automated-fund-routing",
      "title": "Add a dedicated “Send Support” screen that displays the creator’s Cash App $Cashtag and a cash.app link, without enabling any in-app Cash App payments or automated fund routing.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-tiered-risk-system-for-predictions-from-least-risky-low-reward-to-most-risky-high-reward-and-display-the-tier-consistently-throughout-the-predictions-experience",
      "title": "Implement a tiered risk system for predictions (from least risky/low reward to most risky/high reward) and display the tier consistently throughout the predictions experience.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-add-expanded-disclaimers-and-a-terms-of-service-acceptance-flow-covering-1-predictions-are-not-guaranteed-2-the-system-may-improve-with-usage-over-time-but-can-still-be-inaccurate-and-3-users-must-agree-to-terms-including-limitation-of-liability-before-using-the-app-s-content",
      "title": "Add expanded disclaimers and a Terms of Service acceptance flow covering: (1) predictions are not guaranteed, (2) the system may improve with usage over time but can still be inaccurate, and (3) users must agree to Terms including limitation of liability before using the app’s content.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-profile-setup-flow-shown-after-first-internet-identity-login-to-save-name-and-optional-email-using-the-new-backend-profile-update-method-ensuring-the-app-never-submits-a-payload-that-could-clear-subscription-keep-all-user-facing-text-in-english",
      "title": "Update the profile setup flow shown after first Internet Identity login to save `name` and optional `email` using the new backend profile update method, ensuring the app never submits a payload that could clear `subscription`. Keep all user-facing text in English.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-add-editable-fields-on-the-account-page-to-let-an-authenticated-user-add-or-change-their-email-address-and-name-after-signup-and-save-changes-via-the-new-backend-profile-update-method-keep-internet-identity-as-the-login-mechanism-do-not-add-email-password-auth",
      "title": "Add editable fields on the Account page to let an authenticated user add or change their email address and name after signup, and save changes via the new backend profile update method. Keep Internet Identity as the login mechanism (do not add email/password auth).",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-admin-ui-section-within-the-existing-admin-page-that-allows-an-admin-creator-to-generate-referral-codes-with-configurable-generosity-settings-and-to-view-revoke-existing-referral-codes",
      "title": "Add an admin UI section (within the existing Admin page) that allows an admin/creator to generate referral codes with configurable generosity settings and to view/revoke existing referral codes.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-authenticated-user-flow-to-redeem-a-referral-code-from-the-account-page-and-show-clear-success-error-messaging-in-english",
      "title": "Add an authenticated user flow to redeem a referral code from the Account page and show clear success/error messaging in English.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-expose-react-query-hooks-for-referral-code-admin-and-redemption-actions-following-the-existing-hooks-patterns-and-ensure-relevant-queries-are-invalidated-after-mutations",
      "title": "Expose React Query hooks for referral-code admin and redemption actions, following the existing hooks patterns, and ensure relevant queries are invalidated after mutations.",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-global-app-layout-background-so-it-better-fills-the-page-and-reads-as-a-more-vibrant-cash-theme-greens-gold-accents-while-keeping-content-readable-in-both-light-and-dark-modes",
      "title": "Update the global app layout background so it better fills the page and reads as a more vibrant cash theme (greens + gold accents), while keeping content readable in both light and dark modes.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-adjust-the-cash-themed-pattern-gradient-usage-on-the-landing-hero-so-it-looks-more-vivid-and-better-integrated-with-the-rest-of-the-page-background-using-the-existing-generated-pattern-asset",
      "title": "Adjust the cash-themed pattern/gradient usage on the landing hero so it looks more vivid and better integrated with the rest of the page background (using the existing generated pattern asset).",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-reliable-post-stripe-payment-activation-flow-so-that-users-who-have-already-paid-can-regain-premium-access-after-logging-in",
      "title": "Implement a reliable post-Stripe-payment activation flow so that users who have already paid can regain premium access after logging in.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-in-app-restore-premium-access-button-flow-for-authenticated-users-who-already-paid-which-forces-a-refresh-of-premium-access-status-and-clearly-communicates-the-result-in-english",
      "title": "Add an in-app \"Restore Premium Access\" button/flow for authenticated users who already paid, which forces a refresh of premium/access status and clearly communicates the result in English.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-admin-only-backend-capability-and-corresponding-admin-ui-to-manually-grant-premium-access-to-a-specific-user-principal-to-fulfill-requests-like-give-me-premium-access",
      "title": "Add an admin-only backend capability and corresponding Admin UI to manually grant premium access to a specific user principal (to fulfill requests like \"give me premium access\").",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-stripe-subscription-purchase-and-checkout-flow-is-reliably-usable-end-to-end-from-the-pricing-page-including-clear-error-handling-when-stripe-is-not-configured",
      "title": "Ensure the Stripe subscription purchase and checkout flow is reliably usable end-to-end from the Pricing page, including clear error handling when Stripe is not configured.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-harden-the-payment-success-activation-flow-so-a-user-who-completed-stripe-checkout-can-successfully-activate-premium-access-even-if-they-arrive-at-the-success-url-while-logged-out-and-provide-clear-actionable-english-messaging",
      "title": "Harden the payment success activation flow so a user who completed Stripe checkout can successfully activate premium access even if they arrive at the success URL while logged out, and provide clear, actionable English messaging.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-paid-users-active-stripe-subscription-active-referral-access-or-manual-premium-grant-can-access-the-ai-generated-dabble-picks-content-everywhere-it-is-premium-gated",
      "title": "Ensure paid users (active Stripe subscription, active referral access, or manual premium grant) can access the AI-generated Dabble picks content everywhere it is premium-gated.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-admin-creator-account-me-can-always-access-the-ai-generated-dabble-picks-even-without-an-active-stripe-subscription-by-aligning-backend-premium-status-reporting-and-frontend-premium-gating",
      "title": "Ensure the admin/creator account (“me”) can always access the AI-generated Dabble picks, even without an active Stripe subscription, by aligning backend premium-status reporting and frontend premium gating.",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-main-navigation-so-authenticated-users-can-always-navigate-to-the-predictions-page-even-when-they-do-not-yet-have-an-active-membership-and-rely-on-the-existing-premiumgate-upsell-to-restrict-access",
      "title": "Update the main navigation so authenticated users can always navigate to the Predictions page, even when they do not yet have an active membership, and rely on the existing PremiumGate upsell to restrict access.",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-account-page-premium-section-ux-so-the-user-can-reliably-self-diagnose-why-premium-is-inactive-and-take-the-correct-action-to-regain-or-request-always-on-access-using-clear-english-messaging",
      "title": "Improve the Account page premium section UX so the user can reliably self-diagnose why premium is inactive and take the correct action to regain or request always-on access, using clear English messaging.",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-admin-support-section-to-the-existing-admin-page-ui-that-lets-an-admin-enter-a-user-principal-id-fetch-the-user-s-access-diagnostic-report-and-display-clear-english-status-details-premium-active-inactive-premium-source-relevant-expirations-and-whether-a-manual-premium-grant-is-set",
      "title": "Add an “Admin Support” section to the existing Admin page UI that lets an admin enter a user Principal ID, fetch the user’s access diagnostic report, and display clear English status details (premium active/inactive, premium source, relevant expirations, and whether a manual premium grant is set).",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-admin-manual-premium-tooling-so-admins-can-both-grant-and-revoke-manual-premium-access-for-a-specified-principal-id-and-ensure-the-admin-support-ui-reflects-changes-immediately-after-either-action",
      "title": "Extend the admin manual premium tooling so admins can both grant and revoke manual premium access for a specified Principal ID, and ensure the Admin Support UI reflects changes immediately after either action.",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-premium-gating-remains-consistent-across-the-app-by-relying-on-backend-reported-premium-status-for-access-decisions-so-the-creator-admin-account-never-sees-the-premium-upsell-in-premiumgate-protected-screens",
      "title": "Ensure premium gating remains consistent across the app by relying on backend-reported premium status for access decisions, so the creator/admin account never sees the premium upsell in PremiumGate-protected screens.",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Implement paid memberships: $25/month and $250/year subscription plans with access control to premium prediction content.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "AI sports betting prediction engine aiming for high accuracy, incorporating depth charts, injury reports, coaching styles, and player news/drama factors.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Data aggregation pipeline to comb the web for relevant sports data (injuries, depth charts, news) and normalize it for the prediction engine.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Dabble platform alignment: format and present bets/picks specifically based on the Dabble platform structure/markets.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Design and UI theme: colorful, rich, cash-themed visual design across the app.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Add a tiered risk system for picks (from least risky/low reward to most risky/high reward) and display tiers throughout the predictions UX.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Add disclaimers/Terms of Service acceptance messaging: AI improves with use but may be inaccurate; results not guaranteed; informational only; users agree to terms and liability limitations.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Add a Cash App–friendly UI option: a dedicated 'Send Support' screen that displays a creator $Cashtag for optional manual tips/donations (no in-app Cash App payments).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Add an optional email field to the user profile with UI during signup/onboarding (or Account page) so users can store/show their email address (e.g., for receipts/account info) alongside Internet Identity auth.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Add a backend update method for the authenticated user's profile that allows setting/updating `name` and `email` without clearing or overwriting any existing `subscription` data.",
      "reqIds": [
        "REQ-13"
      ],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Add a referral code system with an admin/creator interface to generate referral codes and configure how generous each code is (e.g., discount amount, free access duration, or other benefit levels).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Implement a referral code system in the Motoko backend that allows an admin/creator to generate, list, and revoke referral codes, and allows an authenticated user to redeem a referral code to receive premium access for a configurable duration.",
      "reqIds": [
        "REQ-16"
      ],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Update the backend subscription model to support referral-granted subscriptions distinctly from Stripe subscriptions while remaining compatible with existing premium gating logic (predictions access checks).",
      "reqIds": [
        "REQ-17"
      ],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Update UI background styling to better fit the page layout and use a more vibrant cash-themed background.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Provide an admin/creator mechanism to grant premium access to specific users (manual premium access override) so the requester can be given premium access without Stripe purchase flow.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Add a clear in-app 'Access/Restore Premium' button/flow for users who already paid, so they can regain premium access after logging in (e.g., re-check subscription status and refresh gating).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Update backend premium-status and profile read APIs so a signed-in user can always retrieve their own premium/access status without being blocked by missing role permissions, and so premium gating does not fail due to authorization traps for legitimate paid/manual/referral users.",
      "reqIds": [
        "REQ-31"
      ],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Ensure the admin/creator account always has premium access (regardless of Stripe status) and add/administer an \"admin support\" capability so the admin can support user access issues (e.g., diagnose premium status and assist/override access when needed).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Ensure the configured creator/admin principal always has premium access in all backend premium checks, regardless of any stored UserProfile data (including missing profile, expired Stripe subscription, expired referral, or hasManualPremium=false).",
      "reqIds": [
        "REQ-33"
      ],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Add an admin support backend API that allows an admin to diagnose a specific user’s premium access by principal, returning (at minimum) the target user’s UserProfile (if any) and a computed premium status/source consistent with the same logic used for premium gating.",
      "reqIds": [
        "REQ-34"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Cash-themed sports betting picks app with paid memberships and Dabble-formatted predictions",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}